<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
	<package name="sniperSurveyAdmin" extends="struts-default"
		namespace="/admin">
		<!-- <default-action-ref name="*/index" /> <action name="index"> index.htm为项目根目录的默认页面 
			<result>*/index.jsp</result> </action> -->
		
		<interceptors>
			<!-- 注册拦截器 -->
			<interceptor name="loginInterceptor" class="com.sniper.survey.struts2.action.LoginInterceptor"/>
			<!-- 定义拦截器栈 -->
			<interceptor-stack name="surveyStack">
				<interceptor-ref name="loginInterceptor"/>
				<interceptor-ref name="defaultStack"/>
			</interceptor-stack>
		</interceptors>
		<!--  -->
		<default-interceptor-ref name="surveyStack"/>
		<!-- 定义默认全局login返回值 -->
		<global-results>
			<result name="login">login/index.jsp</result>
		</global-results>
		<action name="user-*" class="userAction" method="{1}">
			<result name="{1}">user/{1}.jsp</result>
		</action>

		<action name="login-*" class="loginAction" method="{1}">
			<result name="{1}">login/{1}.jsp</result>
		</action>
	</package>

	<package name="sniperSurveyAJAX" extends="json-default"
		namespace="/admin">

		<action name="login-login" class="loginAction" method="login">
			<result type="json">
				<param name="root">result</param>
			</result>

		</action>
	</package>
</struts>